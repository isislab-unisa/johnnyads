(function(c){c.execute(function(){c.when("A").register("sg-jsutil",function(b){var g=b.$;return{safeCall:function(b,e){return g.isFunction(b)?b(e):e}}});c.when("A").register("dombinder",function(b){function g(e,d){for(var f=0,d=d.split("."),g=d.length;f<g;f++)e=e&&e[d[f]];return e}function h(i){return e.map(e(i).data("bind").split(","),function(d){var d=d.split(":"),g=e.trim(d[0]),b=e.trim(d[1]),h=f[g];if(h)return h.init&&h.init(i,b),function(d){h.update(i,b,d)}})}var e=b.$,f={text:{update:function(f,
d,b){e(f).text(g(b,d)||"")}},html:{update:function(f,d,b){e(f).html(g(b,d)||"")}},href:{update:function(f,d,b){e(f).attr("href",g(b,d)||"")}},trimText:{update:function(f,d){var g=e(f),b=g.text();if(b.length>d){for(var h=d-4;h>=0&&"[.,-/#!$%^&*;:{}=-_`~()] ".indexOf(b[h])>0;)h--;g.text(b.substring(0,h>=0?h+1:d-3)+"...")}}},value:{update:function(f,d,b){e(f).val(g(b,d)||"")}},visible:{update:function(f,d,b){var h=!1;d.charAt(0)==="!"&&(h=!0,d=d.substring(1));d=!!g(b,d);h!==d?e(f).show():e(f).hide()}},
css:{init:function(f,d){var g=e(f),b=g.data("dombcss")||[];b[d]="";g.data("dombcss",b)},update:function(f,d,b){var f=e(f),h=f.data("dombcss"),c=h[d],b=g(b,d);c!==b&&(h[d]=b,c&&f.removeClass(c),b&&f.addClass(b))}},attr:{init:function(f,d){var b=e(f),g=b.data("dombattr")||[];g[d]={};b.data("dombattr",g)},update:function(f,d,b){var h=e(f),f=h.data("dombattr"),c=f[d],b=g(b,d);c!==b&&(f[d]=b,c&&e.each(c,function(d){h.removeAttr(d)}),b&&e.each(b,function(d,e){h.attr(d,e)}))}}};return{init:function(f){var d=
{$root:f,bindings:[]};f.find("[data-bind]").each(function(){e.each(h(this),function(f,e){d.bindings.push(e)})});return d},update:function(f,d){e.each(f.bindings,function(f,e){e(d)})}}});c.when("A").register("gwAjax",function(b){return function(g,h){function e(d,f,e){typeof window.ue==="object"&&(h.errorCounter?window.ue.count(h.errorCounter,(window.ue.count(h.errCounter)||0)+1):window.ue.count("gwAjaxError",(window.ue.count("gwAjaxError")||0)+1));typeof window.ueLogError&&window.ueLogError({logLevel:"WARN",
attribution:"gwAjax-"+(h.id||g),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:g,"params-data":h.params||h.data}):"")});typeof i==="function"&&i(d,f,e)}var h=b.copy(h),f=h.success,i=h.error;h.success=function(d,b,g){d.error?e(d,b,g):typeof f==="function"&&f(d,b,g)};h.error=e;h.data=h.params?h.params:h.data;typeof window.ue==="object"&&window.ue.count("gwAjaxCall",(window.ue.count("gwAjaxCall")||0)+1);return b.$.ajax(g,h)}});c.when("A","sg-jsutil","dombinder").register("productdb-binding-helper",
function(b,g,h){return function(e,f){function b(a,d){h.update(q,j(d.beforeUpdate,a));a.loading||j(d.load,a)}function d(a){c();k=function(){a(p)};p.pdb_observe(k)}function c(){p&&k&&(p.pdb_unobserve(k),k=null)}var j=g.safeCall,p=null,k=null,q=h.init(f);this.setAsin=function(a,f){f=f||{};c();p=e.get(a);b(p,f);p.loading&&d(function(a){b(a,f)});return p};this.clear=function(){c();p={};h.update(q,p)}}});c.register("sg-media-builder",function(){return function(b){var g=this,h=b.src,e=[];g.build=function(){var f=
e.join("_");return{src:h.replace(/\.([^.]+)$/,"._"+f+"_.$1"),alt:b.alt}};g.autoCrop=function(){e.push("AC");return g};g.scaleX=function(f){e.push("SX"+f);return g};g.scaleY=function(f){e.push("SY"+f);return g};g.upScaleX=function(f){e.push("UX"+f);return g};g.upScaleY=function(f){e.push("UY"+f);return g};g.scaleXY=function(f,e){return g.upScaleX(f).scaleY(e)}}});c.when("A","gwAjax").register("shogunProductDB",function(b,g){function h(e){var d=[];f[e]={loading:!0,pdb_observe:function(e){d.push(e)},
pdb_unobserve:function(e){d=b.$.grep(d,function(d){return d!==e})},_trigger:function(){b.$.each(d,function(){this.call(f[e])})}};return f[e]}function e(e,d){this.ajaxUrl=e;this.experienceStr=d;this._add=function(d){d.p&&b.$.each(d.p,function(d,e){if(e.asin){var g=f[e.asin]||h(e.asin);b.$.extend(g,e,{loading:!1,error:!1});g._trigger(e)}})};this._ajax=function(f,h){var c=b.$.extend(!0,{},e,{params:{sa:JSON.stringify(f),oe:d}});window.ue_sid&&(c.url+="/"+window.ue_sid);if(window.ue_id)c.params.rrid=
window.ue_id;return g(c.url,{method:c.method,params:c.params,success:h.success,error:h.error,id:"gw-jslibs-"+h.id})};this.get=function(d){return d in f?f[d]:h(d)}}var f={};return function(f,d){return new e(f,d)}});c.when("A").register("component-feed-carousel",function(b){var g=b.$,h=function(e,f){this.init(e,f)};h.prototype={init:function(e,f){b.$("html").hasClass("a-touch")&&e.addClass("feed-carousel-touch");this.adjustMarginOnChange=!0;this.defaultCssRightMargin=null;this.minItems=f||10;this.imgClass=
".product-image";this.$carousel=e;this.touch=this.$carousel.hasClass("feed-carousel-touch");this.ajaxSource=this.$carousel.parent().hasClass("ajaxSource");this.$shelf=this.$carousel.find(".feed-carousel-shelf");this.$viewport=this.$carousel.find(".feed-carousel-viewport");this.$spinner=this.$carousel.find(".spinner");this.$left=g(".feed-carousel-control.feed-left",e);this.$right=g(".feed-carousel-control.feed-right",e);this.$buttons=g(".feed-carousel-control",e);this.$thumb=g(".feed-scrollbar-thumb",
e);this.shelfLeft=-1*parseInt(this.$shelf.css("left"),10);this.calcWidth=g("html").hasClass("a-lt-ie9");this.noOpacity=g("html").hasClass("a-lt-ie9");this.bindEvents();this.$carousel.data("Carousel",this);this.$carousel.trigger("change")},bindEvents:function(){function e(d){return b.capabilities.pointerPrefix&&g.inArray(d.originalEvent.pointerType,[2,"touch"])>-1||b.capabilities.actionMode==="touch"}var f=this,i=g("body");f.$carousel.change(function(){f.updateItems();f.updateSpinner();f.updateShelf();
f.updateControls();if(f.defaultCssRightMargin===null&&f.$shelf.children("li").first())f.defaultCssRightMargin=parseInt(f.$shelf.children("li").first().css("margin-right"),10);f.adjustMarginOnChange&&f.adjustCardMargin()});f.$left.click(function(d){d.preventDefault();f.changePage(-1)});f.$right.click(function(d){d.preventDefault();f.changePage(1)});f.bindImageLoadEvents(f.$shelf);var d;g(window).resize(function(){clearTimeout(d);d=setTimeout(function(){var d=f.getDimensions(),d=Math.max(Math.min(d.shelfLeft,
d.maxLeft),0);f.moveShelf(d)},100)});f.$thumb.mousedown(function(d){var e=d.clientX;d.which===1&&(d.preventDefault(),f.$carousel.addClass("scrolling"),i.bind("mousemove.feed-carousel",function(d){var b=f.getDimensions(),b=Math.max(Math.min(b.shelfLeft+1/b.pageRatio*(d.clientX-e),b.maxLeft),0);e=d.clientX;f.moveShelf(b)}),g(document).bind("selectstart.feed-carousel",function(){return!1}))});i.add(window).mouseup(function(){f.$carousel.removeClass("scrolling");f.$carousel.hasClass("hovering")||f.hideControls();
i.unbind("mousemove.feed-carousel");g(document).unbind("selectstart.feed-carousel")});f.$carousel.hover(function(){f.$carousel.addClass("hovering");clearTimeout(f.hoverTimer);f.hoverTimer=setTimeout(function(){f.$carousel.hasClass("hovering")&&!f.$carousel.hasClass("touching")?f.showControls():f.$carousel.removeClass("touching")},300)},function(){f.$carousel.removeClass("hovering touching");clearTimeout(f.hoverTimer);if(!f.$carousel.hasClass("scrolling"))f.hoverTimer=setTimeout(function(){f.$carousel.hasClass("hovering")||
f.hideControls()},600)});f.$carousel.bind(b.action.start,function(d){if(e(d))f.$carousel.addClass("touching"),clearTimeout(f.touchTimer),f.touchTimer=setTimeout(function(){f.$carousel.removeClass("touching")},5E3)});f.$carousel.bind(b.action.end,function(d){e(d)&&(f.$carousel.removeClass("touching"),clearTimeout(f.touchTimer),clearTimeout(f.hoverTimer))});f.$viewport.scroll(function(){f.shelfLeft=f.$viewport.scrollLeft();f.updateControls()})},bindImageLoadEvents:function(e){var f=this;g(f.imgClass,
e).one("load",function(){f.$carousel.trigger("change")})},getDimensions:function(){var e=this.$shelf.width(),f=this.shelfLeft,b=this.$carousel.width();return{pageWidth:b,shelfWidth:e,shelfLeft:f,pageRatio:b/e,leftRatio:f/e,maxLeft:e-b}},updateItems:function(){var e=this,f=e.$shelf.find(".feed-carousel-card"),b=function(d){return d.css("display")==="none"};f.each(function(d,f){var h=g(f);return!b(h)?!0:h.find(e.imgClass).filter(function(){return!this.complete}).length<=0?(h.css("display","inline-block"),
!0):!1});e.$items=f.filter(function(){return!b(g(this))})},updateShelf:function(){var e=0;this.calcWidth&&(this.$shelf.children().each(function(){e+=g(this).outerWidth(!0)}),this.$shelf.width(e));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems&&this.ajaxSource?this.$spinner.show():(this.size()<this.minItems&&typeof window.ue==="object"&&window.ue.count("shovelerNotEnoughItem",(window.ue.count("shovelerNotEnoughItem")||
0)+1),this.$spinner.hide())},updateControls:function(){this.updateArrows();this.updateScrollThumb()},showControls:function(e){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:e,queue:!1})},hideControls:function(e){var f=this.$thumb;if(!this.$carousel.hasClass("first-carousel")||this.touch)f=f.add(this.$buttons);f.stop(!0,!0).fadeOut({duration:300,complete:e,queue:!1})},appendCards:function(e){this.$shelf.append(e);this.bindImageLoadEvents(e);this.$carousel.trigger("change")},
updateArrows:function(){var e=this,f=e.getDimensions();g.each([{$e:e.$left,enabled:f.shelfLeft>0},{$e:e.$right,enabled:f.shelfLeft<f.maxLeft}],function(f,d){var b=d.$e;d.enabled?b.removeClass("feed-control-disabled"):b.addClass("feed-control-disabled");e.noOpacity&&(d.enabled?b.css("opacity","1"):b.css("opacity","0.5"))})},updateScrollThumb:function(){var e=this.getDimensions(),f=e.leftRatio*e.pageWidth;this.$thumb.width(Math.min(e.pageRatio*e.pageWidth,e.pageWidth)).each(function(){g(this).animate({left:f},
0)})},changePage:function(e){var f=this.getDimensions(),b=this.alignWithItem(f.shelfLeft+e*f.pageWidth),b=Math.min(e<0?b.right:b.left,f.maxLeft);f.shelfLeft===b?(this.bounce(this.$shelf,-30*e),this.bounce(this.$thumb,6*e)):this.moveShelf(b,400)},moveShelf:function(e,f){var b=this,f=f||0;b.shelfLeft=e;if(b.touch)b.$viewport.animate({scrollLeft:e},f,"swing",function(){b.updateArrows()});else{var d=b.getDimensions(),d=e/d.shelfWidth*d.pageWidth;b.$shelf.animate({left:-e},f,"swing",function(){b.updateArrows()});
b.$thumb.animate({left:d},f,"swing",function(){b.updateScrollThumb()})}},getItems:function(){return this.$items},size:function(){return this.getItems().length},alignWithItem:function(e){if(e<0)return{left:0,right:0};var f=this,b=f.getItems(),d=b.map(function(){var d=f.cardPosition(g(this));if(e>=d.left&&e<=d.right)return d}).get(0);return d?d:f.cardPosition(b.last())},cardPosition:function(e){var f=e.position().left,e=f+e.outerWidth(!0);return{left:f,right:e}},bounce:function(e,f){function b(e){var f=
{};f[d.touch?"left":"marginLeft"]=e;return f}var d=this;e.each(function(){var d=g(this);d.animate(b(f),400,"swing",function(){d.animate(b(0),100)})})},setCardMargin:function(e){this.$shelf.children("li").first()&&this.$shelf.children("li").first().css("margin-right")!==e+"px"&&(this.$shelf.children("li").css("margin-right",e+"px"),this.updateShelf())},adjustCardMargin:function(e){e=e===void 0||e===null?this.defaultCssRightMargin:e;this.setCardMargin(e);var f=this.getDimensions(),f=f.maxLeft<0?Math.ceil(-f.maxLeft/
this.size()):e;this.setCardMargin(f<e?e:f)}};return{createCarousel:function(e,f){g(e).each(function(e,d){var g=b.$(d);new h(g,f)})}}})})})(function(){var c=window.AmazonUIPageJS||P,b=c.attributeErrors;return b?b("AmazonGatewayAuiAssets"):c}());