/*!CK:4007668802!*//*1440554517,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["8r62g"]); }

__d('ComposerXStandardTaggerWithOG',['ComposerXOGTaggerBehavior','ComposerXStandardTagger','classWithMixins','mixin'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,j(i,k(h)));m=l&&l.prototype;n.prototype.init=function(o){'use strict';m.init.call(this,o);this.initOGTagger(o);};n.prototype.cleanup=function(){'use strict';m.cleanup.call(this);this.cleanupOGTagger();};function n(){'use strict';l.apply(this,arguments);}f.exports=n;},null);
__d('ScrollableTypeaheadBehavior',['CSS','DOM','Parent','Scroll','ScrollableArea','Style','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();function o(p){'use strict';this._typeahead=p;}o.prototype.enable=function(){'use strict';this._scrollableElems=l.renderDOM();h.addClass(this._scrollableElems.root,"_ml");i.appendContent(this._typeahead.getView().element,this._scrollableElems.root);this._typeahead.getView().content=this._scrollableElems.content;this._scrollableArea=l.fromNative(this._scrollableElems.root,{fade:false});this._subscriptions=[this._typeahead.getView().subscribe('reset',this._reset.bind(this)),this._typeahead.getView().subscribe('render',this._render.bind(this)),this._typeahead.getView().subscribe('beforeRender',this._beforeRender.bind(this)),this._typeahead.getView().subscribe('next',this._scrollHelper.bind(this)),this._typeahead.getView().subscribe('prev',this._scrollHelper.bind(this))];h.hide(this._scrollableElems.root);h.removeClass(this._scrollableElems.root,"_mm");};o.prototype.disable=function(){'use strict';while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;};o.prototype._reset=function(){'use strict';h.hide(this._scrollableElems.root);h.removeClass(this._scrollableElems.root,"_mm");this._scrollableArea.scrollToTop();};o.prototype._render=function(){'use strict';this._scrollableArea.poke();this._showScrollbar?this._scrollableArea.showScrollbar(false):this._scrollableArea.hideScrollbar(true);h.addClass(this._scrollableElems.root,"_mm");};o.prototype._beforeRender=function(p,q){'use strict';var r=5;if(this._typeahead.getView().maxResults<10)r=3;h.show(this._scrollableElems.root);m.set(this._scrollableElems.body,'width',this._scrollableElems.wrap.offsetWidth+'px');if(q.results.length<r){m.set(this._scrollableElems.wrap,'height',38*q.results.length+4+'px');this._showScrollbar=false;}else{this._scrollableArea.showScrollbar(false);m.set(this._scrollableElems.wrap,'height',38*r+4+'px');this._showScrollbar=true;}};o.prototype._scrollHelper=function(p,q){'use strict';if(!j.byClass(q,'uiScrollableArea'))return;this._typeahead.getView().ignoreMouseover=true;var r=j.byClass(q,'uiScrollableAreaWrap'),s=q.offsetTop-r.offsetTop;if(s<k.getTop(r)){k.setTop(r,s);return;}var t=s+q.offsetHeight;if(t>k.getTop(r)+r.offsetHeight)k.setTop(r,t-r.offsetHeight);};Object.assign(o.prototype,{_subscriptions:null,_scrollableElems:null,_scrollableArea:null,_showScrollbar:null});f.exports=o;},null);
__d('legacy:LegacyScrollableTypeaheadBehavior',['ScrollableTypeaheadBehavior'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.scrollArea=function(i){i.enableBehavior(h);};},3);
__d('OpenGraphDialog',['ComposerXStandardTaggerWithOG','DOM','Focus'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){'use strict';this.$OpenGraphDialog1=l;if(arguments.length==2){this.$OpenGraphDialog2=m.getComponents();}else{this.$OpenGraphDialog2={};for(var n=1;n<arguments.length;n++)this.$OpenGraphDialog2=babelHelpers._extends({},this.$OpenGraphDialog2,arguments[n].getComponents());}this.$OpenGraphDialog3=new h({preventUnfinishedPostAlert:true});this.$OpenGraphDialog3.init(this);var o=this.getComponent('maininput').element;o=i.scry(o,'textarea')[0];j.set(o);}k.prototype.allowOGTagPreview=function(){'use strict';return false;};k.prototype.getRoot=function(){'use strict';return this.$OpenGraphDialog1;};k.prototype.getComponent=function(l){'use strict';return this.$OpenGraphDialog2[l];};k.prototype.getComposerID=function(){'use strict';return '';};f.exports=k;},null);
__d('OpenGraphTypeaheadBehavior',['ContextualLayerAutoFlip','DOMVector'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$OpenGraphTypeaheadBehavior1=k.getView();this.$OpenGraphTypeaheadBehavior2=this.$OpenGraphTypeaheadBehavior1.element;}j.prototype.enable=function(){'use strict';if(this.$OpenGraphTypeaheadBehavior1.layer){this.$OpenGraphTypeaheadBehavior1.layer.setPosition('above');this.$OpenGraphTypeaheadBehavior1.layer.disableBehavior(h);}else this.$OpenGraphTypeaheadBehavior3=this.$OpenGraphTypeaheadBehavior1.subscribe('afterRender',this.$OpenGraphTypeaheadBehavior4.bind(this));};j.prototype.disable=function(){'use strict';if(this.listener){this.$OpenGraphTypeaheadBehavior3.remove();this.$OpenGraphTypeaheadBehavior3=null;}};j.prototype.$OpenGraphTypeaheadBehavior4=function(){'use strict';var k=i.getElementDimensions(this.$OpenGraphTypeaheadBehavior2).y;if(k)this.$OpenGraphTypeaheadBehavior2.style.marginTop=-(k+28)+'px';};f.exports=j;},null);
__d('ExternalWebShareDialogObserver',['Arbiter','CSS','DOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={setHidePrivacy:function(l){h.inform('setHidePrivacy',l,h.BEHAVIOR_STATE);},listenToHidePrivacy:function(l){h.subscribe('setHidePrivacy',function(m,n){n.hide?i.hide(l):i.show(l);});},setHideComposerTaggers:function(l){h.inform('setHideComposerTaggers',l,h.BEHAVIOR_STATE);},listenToHideComposerTaggers:function(l){h.subscribe('setHideComposerTaggers',function(m,n){n.hide?i.hide(l):i.show(l);});},setSubmitButtonActionText:function(l){h.inform('setSubmitButtonActionText',l,h.BEHAVIOR_STATE);},listenToChangeSubmitButtonActionText:function(l){h.subscribe('setSubmitButtonActionText',function(m,n){if(n.actionText)j.setContent(l,n.actionText);});},setDisableSubmitButton:function(l){h.inform('setDisableSubmitButton',l,h.BEHAVIOR_STATE);},listenToDisableSubmitButton:function(l){h.subscribe('setDisableSubmitButton',function(m,n){l.disabled=n.disable;});}};f.exports=k;},null);
__d('ShareDialogAudienceTypes',['getObjectValues','ShareModeConst'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={OWN:i.SELF_POST,PERSON:i.FRIEND,GROUP:i.GROUP,PAGE:i.PAGE,MESSAGE:i.MESSAGE},k=h(j);function l(m){return k.some(function(n){return n===m;});}f.exports=j;f.exports.ALL=k;f.exports.isValid=l;f.exports.propType=function(m,n){if(!l(m[n]))throw new Error('Invalid audience '+m[n]);};},null);
__d('ShareDialogDataSources',['getObjectValues'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={ACTION:'actionSource',GROUP:'groupSource',MENTIONS:'mentionsSource',MESSAGE:'messageSource',OBJECT:'objectSource',PAGE:'pageSource',PERSON:'personSource',PERSON_WALL:'personWallSource',PLACE:'placeSource'},j=h(i);function k(){'use strict';this.$ShareDialogDataSources1={};}k.prototype.addSource=function(l,m){'use strict';if(j.some(function(n){return l===n;}))this.$ShareDialogDataSources1[l]=m;return this;};k.prototype.getSource=function(l){'use strict';return this.$ShareDialogDataSources1[l];};k.TYPES=i;f.exports=k;},null);
__d('ShareDialogAudience.react',['Bootloader','React','ShareDialogAudienceTypes','ShareDialogDataSources','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.TYPES,n,o,p,q,r=i.PropTypes,s=i.createClass({displayName:'ShareDialogAudience',propTypes:{activeAudience:function(t){if(!j.isValid(t.activeAudience))return new Error('The active audience is invalid.');},messageTargets:r.array,userId:r.string,dataSources:r.instanceOf(k),onClear:r.func,onChange:r.func},getDefaultProps:function(){return {dataSources:new k(),onClear:l,onChange:l};},getInitialState:function(){return {bootloaded:false,bootloading:false};},componentDidMount:function(){if(!this.state.bootloading&&!this.state.bootloaded){this.setState({bootloading:true});h.loadModules(["ShareDialogMessageAudience.react","ShareDialogGroupAudience.react","ShareDialogPersonAudience.react","ShareDialogPageAudience.react"],(function(t,u,v,w){n=t;o=u;p=v;q=w;this.setState({bootloading:false,bootloaded:true});}).bind(this));}},render:function(){if(this.state.bootloaded){var t=this.props.dataSources;if(t.getSource(m.MESSAGE)&&this.props.activeAudience===j.MESSAGE)return (i.createElement(n,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,messageTargets:this.props.messageTargets}));if(t.getSource(m.PERSON_WALL)&&this.props.activeAudience===j.PERSON)return (i.createElement(p,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:t.getSource(m.PERSON_WALL)}));if(t.getSource(m.GROUP)&&this.props.activeAudience===j.GROUP)return (i.createElement(o,{onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:t.getSource(m.GROUP)}));if(t.getSource(m.PAGE)&&this.props.activeAudience===j.PAGE)return (i.createElement(q,{onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,pagesSource:t.getSource(m.PAGE)}));}return i.createElement('noscript',null);}});f.exports=s;f.exports.TYPES=j;},null);
__d('ShareDialogAudienceText.react',['React','ShareDialogAudienceTypes','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'ShareDialogAudienceText',propTypes:{audience:function(l){if(!i.isValid(l.audience))return new Error('The audience is invalid.');}},getDefaultProps:function(){return {audience:i.OWN};},_getText:function(){switch(this.props.audience){case i.OWN:return j._("Compartir en tu biograf\u00eda");case i.PERSON:return j._("Compartir en la biograf\u00eda de un amigo");case i.GROUP:return j._("Compartir en un grupo");case i.PAGE:return j._("Compartir en una p\u00e1gina que administras");case i.MESSAGE:return j._("Compartir en un mensaje privado");default:return h.createElement('noscript',null);}},render:function(){return (h.createElement('span',this.props,this._getText()));}});f.exports=k;},null);
__d('ShareDialogAudienceSelector.react',['arrayContains','cx','emptyFunction','React','ShareDialogAudienceText.react','ShareDialogAudienceTypes','XUIMenuSeparator.react','XUISelector.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=o.Option,r=k.createClass({displayName:'ShareDialogAudienceSelector',propTypes:{allowedAudiences:function(s){if(!s.allowedAudiences.every(function(t){return m.isValid(t);}))return new Error('The allowed audiences are not valid.');},activeAudience:function(s){if(!m.isValid(s.activeAudience)||!s.allowedAudiences.some(function(t){return t===s.activeAudience;}))return new Error('The active audience is either invalid or not included in the '+'allowed audience list.');},onAudienceSelect:p.func},getDefaultProps:function(){return {onAudienceSelect:j,activeAudience:m.OWN,allowedAudiences:m.ALL};},getInitialState:function(){return {activeAudience:this.props.activeAudience};},componentWillReceiveProps:function(s){this.setState({activeAudience:s.activeAudience});},onChange:function(s){this.setState({activeAudience:s.value});this.props.onAudienceSelect(s.value);},render:function(){var s=this.props.allowedAudiences,t=[];if(s.length==1)return (k.createElement('div',{className:"_94t _1nb1"},k.createElement('div',{className:"_42ym _41kd"},k.createElement(l,{audience:this.props.activeAudience}))));if(h(s,m.OWN))t.push(k.createElement(q,{className:"_42ym _42yn",value:m.OWN,key:m.OWN},k.createElement(l,{audience:m.OWN})));if(h(s,m.PERSON))t.push(k.createElement(q,{className:"_42ym _42yp",value:m.PERSON,key:m.PERSON},k.createElement(l,{audience:m.PERSON})));if(h(s,m.GROUP))t.push(k.createElement(q,{className:"_42ym _2n3i",value:m.GROUP,key:m.GROUP},k.createElement(l,{audience:m.GROUP})));if(h(s,m.PAGE))t.push(k.createElement(q,{className:"_42ym _42y_",value:m.PAGE,key:m.PAGE},k.createElement(l,{audience:m.PAGE})));if(h(s,m.MESSAGE)){if(t.length>0)t.push(k.createElement(n,{key:'separator'}));t.push(k.createElement(q,{className:"_42ym _42z0",value:m.MESSAGE,key:m.MESSAGE},k.createElement(l,{audience:m.MESSAGE})));}var u="_94t"+(this.state.activeAudience===m.OWN?' '+"_47xt":'')+(this.state.activeAudience===m.PERSON?' '+"_47xu":'')+(this.state.activeAudience===m.GROUP?' '+"_47xv":'')+(this.state.activeAudience===m.PAGE?' '+"_47xw":'')+(this.state.activeAudience===m.MESSAGE?' '+"_47xx":'');return (k.createElement(o,{maxwidth:400,className:u,defaultValue:this.state.activeAudience,name:'mode',onChange:this.onChange},t));}});f.exports=r;},null);
__d('ExternalWebShareDialogAudienceHeader.react',['cx','fbt','React','XUICard.react','XUICardSection.react','ExternalWebShareDialogObserver','ShareDialogAudience.react','ShareDialogAudienceSelector.react','ShareDialogAudienceTypes','ShareDialogDataSources'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=j.PropTypes,s=j.createClass({displayName:'ExternalWebShareDialogAudienceHeader',propTypes:{dataSources:r.shape({friend:r.object.isRequired,page:r.object.isRequired,group:r.object.isRequired}).isRequired,audience:r.oneOf(Object.keys(p).map(function(t){return p[t];})),disableMessage:r.bool,submitButtonText:r.string},getDefaultProps:function(){return {audience:p.OWN,disableMessage:false};},getInitialState:function(){var t=this.props.dataSources;return {audience:this.props.audience,audienceDataSources:new q().addSource(q.TYPES.PERSON_WALL,t.friend).addSource(q.TYPES.GROUP,t.group).addSource(q.TYPES.PAGE,t.page).addSource(q.TYPES.MESSAGE,t.friend)};},_onAudienceSelect:function(t){this.setState({audience:t});},_onChangeAudienceTargets:function(t){if(this.state.audience===p.PAGE){this.setState({audienceTargets:[t[0].pageId],actorId:t[0].actorId});}else this.setState({audienceTargets:t,actorId:null});},_onClearAudienceTargets:function(){this.setState({audienceTargets:null});},render:function(){var t;if(this.state.audience===p.OWN){m.setHidePrivacy({hide:false});t=null;}else{m.setHidePrivacy({hide:true});t=j.createElement(l,null,j.createElement(n,{activeAudience:this.state.audience,dataSources:this.state.audienceDataSources,onChange:this._onChangeAudienceTargets,onClear:this._onClearAudienceTargets}));}if(this.state.audience===p.MESSAGE){m.setHideComposerTaggers({hide:true});m.setSubmitButtonActionText({actionText:i._("Enviar mensaje")});}else{m.setHideComposerTaggers({hide:false});switch(this.props.submitButtonText){case 'post':m.setSubmitButtonActionText({actionText:i._("Publicar")});break;case 'submit':m.setSubmitButtonActionText({actionText:i._("Aceptar")});break;case 'share':m.setSubmitButtonActionText({actionText:i._("Compartir")});break;default:m.setSubmitButtonActionText({actionText:i._("Publicar en Facebook")});}}m.setDisableSubmitButton({disable:this.state.audience!==p.OWN&&(!Array.isArray(this.state.audienceTargets)||this.state.audienceTargets.length===0)});var u=[p.OWN,p.PERSON,p.GROUP,p.PAGE];if(!this.props.disableMessage)u.push(p.MESSAGE);return (j.createElement(k,null,j.createElement(l,{className:"_2pi3 _2pi9"},j.createElement(o,{activeAudience:this.state.audience,onAudienceSelect:this._onAudienceSelect,allowedAudiences:u})),t,j.createElement('input',{type:'hidden',name:'audience_targets',value:this.state.audienceTargets}),j.createElement('input',{type:'hidden',name:'av',value:this.state.actorId})));}});f.exports=s;},null);