(function(){try{function X(i,aq){var e=new Date().getTime();return function(){var ar=new Date().getTime();if((ar-e)>=i){e=ar;aq.apply(null,arguments)}}}var ac=window.self!==window.top;var K="https:"===document.location.protocol;var s=document.getElementsByTagName("script");var y;var x;var ad;if(document.querySelector){sib=document.querySelector('script[data-params="jsads"]')}if(typeof sib==="undefined"||sib==null){for(var am=s.length-1;am>-1;am--){if(s[am].src.match("jsAds-")!=null){y=s[am];break}}sib=y.previousElementSibling;if((typeof sib==="undefined")||(sib==null)){sib=y.previousSibling}}else{sib.setAttribute("data-params","");y=sib.nextElementSibling;if((typeof y=="undefined")||(y==null)){y=sib.nextSibling}}if(typeof sib==="undefined"||sib==null){return}var A=y.src.split("/");if(A.length>2&&A[0].match("http")){x=("//"+A[2]).replace("cdn.","");ad=("//"+A[2])}if(typeof x==="undefined"||x==null){x=ad="//feed.mirago.com"}var n=document.createElement("img");n.src=x+"/jsadsloaded.ashx";n.style.width=1;n.style.height=1;n.height=1;n.width=1;setTimeout(function(){document.getElementsByTagName("body")[0].appendChild(n)},0);function C(ar){if((ar===undefined)||(ar==null)||(ar.length<1)){return{}}var au,at;var av={};var ay=ar.split("\n");var e=[];for(au=0;au<ay.length;au++){if(ay[au].length>1){sublines=ay[au].split("m3ad");for(at=0;at<sublines.length;at++){if(sublines[at].length>1){e.push("m3ad"+sublines[at])}}}}for(au=0;au<e.length;au++){var az=e[au];if(az.length>1){var ax=az.split("=");if(ax.length>=2){for(at=0;at<ax.length;at++){var aq=ax[0].replace(/^\s+|\s+$/g,"").toLowerCase();ax.shift();var aw=ax.join("=").replace(/^\s+|\s+$/g,"").replace(/;$/g,"").replace(/(^["'])|(["']$)/g,"");if((aq.length>0)&&(aw.length>0)&&(aq.indexOf("m3ads_")!=-1)){av[aq]=aw}}}}}return av}var b=C(sib.text);var aj=false;if(!(b.m3ads_qa===undefined)){if(b.m3ads_qa.toLowerCase()==="true"){aj=true}}var ag=(b.m3ads_system===undefined)?null:encodeURIComponent(b.m3ads_system);var U=(b.m3ads_partnernumber===undefined)?null:encodeURIComponent(b.m3ads_partnernumber);if(ag==null||U==null){var ab=new Error();ab.name="Missing Mandatory Parameter(s)";ab.message="You must supply at least the 'm3ads_system' and 'm3ads_partnernumber' parameters";throw ab}var d=(b.m3ads_keywords===undefined)?null:encodeURIComponent(b.m3ads_keywords);var v=(b.m3ads_sectors===undefined)?null:encodeURIComponent(b.m3ads_sectors);var t=(b.m3ads_sectornames===undefined)?null:encodeURIComponent(b.m3ads_sectornames);var z=(b.m3ads_zones===undefined)?null:encodeURIComponent(b.m3ads_zones);var V=(b.m3ads_referrer===undefined)?null:encodeURIComponent(b.m3ads_referrer);var w=(b.m3ads_ip===undefined)?null:encodeURIComponent(b.m3ads_ip);var J=(b.m3ads_includeimages===undefined)?null:encodeURIComponent(b.m3ads_includeimages);var G=(b.m3ads_subpartner===undefined)?null:encodeURIComponent(b.m3ads_subpartner);var D=(b.m3ads_keywordmode===undefined)?null:encodeURIComponent(b.m3ads_keywordmode);var ai=(b.m3ads_mediatype===undefined)?null:encodeURIComponent(b.m3ads_mediatype);var H=(b.m3ads_telephony===undefined)?null:encodeURIComponent(b.m3ads_telephony);var B=(b.m3ads_location===undefined)?null:encodeURIComponent(b.m3ads_location);var q=(b.m3ads_latitude===undefined)?null:encodeURIComponent(b.m3ads_latitude);var N=(b.m3ads_longitude===undefined)?null:encodeURIComponent(b.m3ads_longitude);var L=(b.m3ads_locationcategory===undefined)?null:encodeURIComponent(b.m3ads_locationcategory);var Q=(b.m3ads_filter===undefined)?null:encodeURIComponent(b.m3ads_filter);var g=(b.m3ads_backfill===undefined)?null:encodeURIComponent(b.m3ads_backfill);var ap=(b.m3ads_prices===undefined)?null:encodeURIComponent(b.m3ads_prices);var ah=(b.m3ads_imagewidth===undefined)?null:encodeURIComponent(b.m3ads_imagewidth);var T=(b.m3ads_imageheight===undefined)?null:encodeURIComponent(b.m3ads_imageheight);var m=(b.m3ads_logoimagewidth===undefined)?null:encodeURIComponent(b.m3ads_logoimagewidth);var F=(b.m3ads_logoimageheight===undefined)?null:encodeURIComponent(b.m3ads_logoimageheight);var p=(b.m3ads_numberadverts===undefined)?null:encodeURIComponent(b.m3ads_numberadverts);var E=(b.m3ads_language===undefined)?null:encodeURIComponent(b.m3ads_language);var I=(b.m3ads_cssurl===undefined)?null:b.m3ads_cssurl;var c=(b.m3ads_3rdpartyclickurl===undefined)?null:b.m3ads_3rdpartyclickurl;var a=(b.m3ads_3rdpartyimpressionurl===undefined)?null:b.m3ads_3rdpartyimpressionurl;var al=(b.m3ads_optedin===undefined)?null:encodeURIComponent(b.m3ads_optedin);var M=(b.m3ads_mediapresentation===undefined)?null:encodeURIComponent(b.m3ads_mediapresentation);var ao=(b.m3ads_publishertracking===undefined)?null:encodeURIComponent(b.m3ads_publishertracking);var S=(b.m3ads_mobilesdk===undefined)?null:encodeURIComponent(b.m3ads_mobilesdk);var o=(b.m3ads_debug===undefined)?null:encodeURIComponent(b.m3ads_debug);var P=(b.m3ads_notitle===undefined)?null:b.m3ads_notitle;var af=(b.m3ads_containerclass===undefined)?"m3_container":b.m3ads_containerclass;var aa=(b.m3ads_cid===undefined)?null:encodeURIComponent(b.m3ads_cid);var Y=(b.m3ads_mid===undefined)?null:encodeURIComponent(b.m3ads_mid);var j=(b.m3ads_customheader===undefined)?null:encodeURIComponent(b.m3ads_customheader);var l="?a="+U+"&sys="+ag;if(K){l+="&sl=1"}if((p!=null)&&(p.length>0)&&z==null){l+="&n="+p}else{if(z!=null){l+="&n=1"}}var r="";if((v!=null)&&(v.length>0)){l+="&ch="+v;r=v.replace(new RegExp(",","g"),"-")}else{if((t!=null)&&(t.length>0)){l+="&sec="+t;r=b.m3ads_sectornames.replace(new RegExp(",","g"),"-");r=r.replace(new RegExp(" ","g"),"");r=r.replace(new RegExp("&","g"),"")}}if((V!=null)&&(V.length>0)){l+="&u="+V}else{l+="&u=REF"}if((d!=null)&&(d.length>0)){l+="&q="+d}if((z!=null)&&(z.length>0)){l+="&zone="+z}if((I!=null)&&(I.length>0)){var Z=document.getElementsByTagName("head")[0];var R=document.createElement("link");R.type="text/css";R.rel="stylesheet";R.href=I;Z.appendChild(R)}if((M!=null)&&(M.length>0)){l+="&mp="+M}if((o!=null)&&(o.length>0)){l+="&debug="+o}if((w!=null)&&(w.length>0)){l+="&ip="+w}if((J!=null)&&(J.length>0)){l+="&i="+J}else{if(z==null){l+="&i=1"}}if((G!=null)&&(G.length>0)){l+="&s="+G}if((D!=null)&&(D.length>0)&&z==null){l+="&m="+D}if((ai!=null)&&(ai.length>0)&&z==null){l+="&mt="+ai}if((H!=null)&&(H.length>0)&&z==null){l+="&tel="+H}if((B!=null)&&(B.length>0)){l+="&loc="+B}if((q!=null)&&(q.length>0)){l+="&lat="+q}if((N!=null)&&(N.length>0)){l+="&long="+N}if((L!=null)&&(L.length>0)){l+="&ct="+L}if((Q!=null)&&(Q.length>0)&&z==null){l+="&f="+Q}if((g!=null)&&(g.length>0)){l+="&b="+g}if((ap!=null)&&(ap.length>0)){l+="&p="+ap}if((ah!=null)&&(ah.length>0)&&z==null){l+="&cpw="+ah}if((T!=null)&&(T.length>0)&&z==null){l+="&cph="+T}if((m!=null)&&(m.length>0)&&z==null){l+="&iw="+m}if((F!=null)&&(F.length>0)&&z==null){l+="&ih="+F}if((E!=null)&&(E.length>0)){l+="&lang="+E}if((ao!=null)&&(ao.length>0)){l+="&tr="+ao}if((j!=null)&&(j.length>0)){l+="&hd="+j}if((aa!=null)&&(aa.length>0)){l+="&cid="+aa}if((Y!=null)&&(Y.length>0)){l+="&mid="+Y}window.m3clickfilter=function(i,ar){var aq=i.clientX===undefined||i.clientY===undefined||i.clientX==0||i.clientY==0;var e=!aq?i.clientX>screen.width||i.clientY>screen.height||i.clientX<0||i.clientY<0:false;ar.href+="&cnp="+aq+"&cos="+e;if(typeof window.jsAdsMobileFeedback==="function"){window.jsAdsMobileFeedback(3,null)}if(typeof window.jsAdsClick==="function"){window.jsAdsClick()}};function W(){if(window.pageXOffset!=null){return{x:window.pageXOffset,y:window.pageYOffset,w:window.innerWidth,h:window.innerHeight}}var e=window.document;if(document.compatMode==="CSS1Compat"){return{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop,w:e.documentElement.clientWidth,h:e.documentElement.clientHeight}}return{x:e.body.scrollLeft,y:e.body.scrollTop,w:e.body.clientWidth,h:e.body.clientHeight}}function f(aq){var au=aq.offsetTop;var at=aq.offsetLeft;var i=aq.offsetWidth;var e=aq.offsetHeight;while(aq.offsetParent){aq=aq.offsetParent;au+=aq.offsetTop;at+=aq.offsetLeft}var ar=W();return(au>=ar.y&&at>=ar.x&&(au+e)<=(ar.y+ar.h)&&(at+i)<=(ar.x+ar.w))}function k(aq){function i(av,aB,at,ay,aw,az,ax){var au=av.parentNode,aA=2;if(!ar(av)){return false}if(9===au.nodeType){return true}if("0"===e(av,"opacity")||"none"===e(av,"display")||"hidden"===e(av,"visibility")){return false}if("undefined"===typeof(aB)||"undefined"===typeof(at)||"undefined"===typeof(ay)||"undefined"===typeof(aw)||"undefined"===typeof(az)||"undefined"===typeof(ax)){aB=av.offsetTop;aw=av.offsetLeft;ay=aB+av.offsetHeight;at=aw+av.offsetWidth;az=av.offsetWidth;ax=av.offsetHeight}if(au){var aC=e(au,"overflow");if("hidden"===aC||"scroll"===aC){if(aw+aA>au.offsetWidth+au.scrollLeft+au.offsetLeft+aA||aw+az-aA<au.scrollLeft||aB+aA>au.offsetHeight+au.scrollTop+au.offsetTop+aA||aB+ax-aA<au.scrollTop){return false}}if(av.offsetParent===au){aw+=au.offsetLeft;aB+=au.offsetTop}return i(au,aB,at,ay,aw,az,ax)}return true}function e(at,au){if(window.getComputedStyle){return document.defaultView.getComputedStyle(at,null)[au]}if(at.currentStyle){return at.currentStyle[au]}}function ar(at){while(at=at.parentNode){if(at==document){return true}}return false}return i(aq)}if(aa==null&&Y==null){var n=document.createElement("img");n.src=x+"/feed.presearch.ashx"+l;n.style.width=1;n.style.height=1;n.height=1;n.width=1;setTimeout(function(){document.getElementsByTagName("body")[0].appendChild(n)},0)}function h(ar,i){ar.setAttribute("class",af);function e(aA,at,az,aw){var av=[];var ax;if(c!=null){ax=c+encodeURIComponent(at.clickurl)}else{ax=at.clickurl}ax+="&ccd="+!navigator.cookieEnabled;if((at.thirdpartyurl!=null)&&(at.thirdpartyurl.length>0)){setTimeout(function(){var aC=document.createElement("iframe");var aB="m3iframeid"+Math.round(Math.random()*1000000000);aC.setAttribute("id",aB);aC.setAttribute("name",aB);aC.setAttribute("src",at.thirdpartyurl);aC.setAttribute("frameborder","0");aC.setAttribute("vspace","0");aC.setAttribute("hspace","0");aC.setAttribute("marginwidth","0");aC.setAttribute("marginheight","0");aC.setAttribute("scrolling","no");aC.setAttribute("width","100%");aC.setAttribute("height","100%");aC.style.display="block";aC.style.visibility="visible";aA.appendChild(aC)},0)}else{if((at.thirdpartytag!=null)&&(at.thirdpartytag.length>0)){setTimeout(function(){var aD=document.createElement("iframe");var aC="m3iframeid"+Math.round(Math.random()*1000000000);aD.setAttribute("id",aC);aD.setAttribute("name",aC);aD.setAttribute("frameborder","0");aD.setAttribute("vspace","0");aD.setAttribute("hspace","0");aD.setAttribute("marginwidth","0");aD.setAttribute("marginheight","0");aD.setAttribute("scrolling","no");aD.setAttribute("width","100%");aD.setAttribute("height","100%");aD.style.display="block";aD.style.visibility="visible";aA.appendChild(aD);var aB=aD.contentDocument||aD.contentWindow.document||window.frames[aD.name].document;aB.write("<head></head><body>"+at.thirdpartytag+"</body>");if(navigator.appName!="Microsoft Internet Explorer"&&navigator.appName!="Opera"){aB.close()}else{aB.body.style.marginTop="0px";aB.body.style.marginLeft="0px"}},0)}else{if(at.mediatype!=null&&at.mediatype=="Banner"){av.push('<a class="a n'+aA.n+'" target="_blank" rel="nofollow" href="'+ax+'" onclick="window.m3clickfilter(event, this)">');if(at.imageurl!=null){av.push('<div class="i">');var ay="";if(at.imagetitle!=null){ay=at.imagetitle}else{if(at.title!=null){ay=at.title}else{if(at.displayurl!=null){ay=at.displayurl}}}av.push('<img style="border:none" alt="'+ay+'" title="'+ay+'" src="'+at.imageurl+'">');av.push("</div>")}av.push("</a>");aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="StandardText"){av.push('<a class="a n'+aA.n+'" target="_blank" rel="nofollow" href="'+ax+'" onclick="window.m3clickfilter(event, this)">');if(at.imageurl!=null){av.push('<div class="i">');av.push('<img alt="'+at.imagetitle+'" title="'+at.imagetitle+'" src="'+at.imageurl+'">');av.push("</div>")}av.push('<div class="x">');if(at.title!=null){av.push('<div class="t">'+at.title+"</div>")}if(at.description!=null){av.push('<div class="d">'+at.description+"</div>")}if(at.displayurl!=null){av.push('<div class="u">'+at.displayurl+"</div>")}av.push("</div>");av.push("</a>");aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="Video"){av.push('<iframe src="'+ad+"/resources/video/video-helper.html?");if(at.description!=undefined&&at.description.length>0){av.push("src_webm="+encodeURIComponent(at.description)+"&")}if(at.title!=undefined&&at.title.length>0){av.push("src_mp4="+encodeURIComponent(at.title)+"&")}if(at.displayurl!=undefined&&at.displayurl.length>0){av.push("src_ogg="+encodeURIComponent(at.displayurl)+"&")}if(at.imageurl!=undefined&&at.imageurl.length>0){av.push("poster="+encodeURIComponent(at.imageurl)+"&")}if(at.clickurl!=undefined&&at.clickurl.length>0){av.push("clickurl="+encodeURIComponent(at.clickurl)+"&")}av.push("w="+az);av.push("&h="+aw);av.push('" ');av.push('id="iframeid" name="iframeid" frameborder="0px" vspace="0px" hspace="0px" marginwidth="0px" marginheight="0px" scrolling="no" width="100%" height="100%" allowFullScreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"></iframe>');aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="Bullet"){aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="Mobile"){aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="Html5"){aA.innerHTML+=av.join("")}else{if(at.mediatype!=null&&at.mediatype=="Flash"){ax=encodeURIComponent(c==null?at.clickurl:c+at.clickurl);aA.style.zIndex="1";av.push('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"');av.push('codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" id="myFlashMovie" width="'+az+'" height="'+aw+'">');av.push('<param name=movie value="'+at.imageurl+"?clickTAG="+ax+'"/>');av.push('<param name="quality" value="high" />');av.push('<embed src="'+at.imageurl+"?clickTAG="+ax+'" quality="high" ');av.push('width="'+az+'" height="'+aw+'" type="application/x-shockwave-flash" ');av.push('pluginspage="http://www.macromedia.com/go/getflashplayer" />');av.push("</object >");aA.innerHTML+=av.join("")}}}}}}}}}if(!ac){}if(at.impressiontracking!=null&&at.impressiontracking.length>0){var au=document.createElement("img");au.src=at.impressiontracking;au.style.width=1;au.style.height=1;au.height=1;au.width=1;setTimeout(function(){document.getElementsByTagName("body")[0].appendChild(au)},0)}}var aq=(function(){var at=0,av,ay,au,aw=this;function ax(aC){var aB=document.createElement("script"),aA=false;aB.src=aC;aB.async=false;aB.onload=aB.onreadystatechange=function(){if(!aA&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){aA=true;aB.onload=aB.onreadystatechange=null;if(aB&&aB.parentNode){aB.parentNode.removeChild(aB)}}};if(!av){av=document.getElementsByTagName("head")[0]}av.appendChild(aB)}function az(aB,aD,aE){ay="";aD=aD||{};for(au in aD){if(aD.hasOwnProperty(au)){ay+=au+"="+aD[au]+"&"}}if(ay.length>0){ay="&"+ay}else{ay="&"}var aA=Math.round(Math.random()*1000000000);var aC="m3advertscallback"+aA;aw[aC]=function(aF){aE(aF);aw[aC]=null;try{delete aw[aC]}catch(aG){}};ax(aB+ay+"callback="+aC);return aC}return{get:az}}());aq.get(x+"/feed.jsonp.ashx"+l,"",function(av){var aw=0;if(typeof window.jsAdsMobileFeedback==="function"){window.jsAdsMobileFeedback(1,av.adverts.results)}if(typeof window.jsAdsImpressions==="function"){window.jsAdsImpressions(av.adverts.results)}var ay=av.adverts.results;var au=1;if((p!=null)&&(p.length>0)){au=p}if(av.adverts.results<1){return}if(av.adverts.header!=undefined&&av.adverts.header!=null&&av.adverts.headerlink!=undefined&&av.adverts.headerlink!=null){ar.id="mirago";var ax=document.createElement("div");ax.setAttribute("id","h");var aF=document.createElement("a");aF.setAttribute("href",av.adverts.headerlink);aF.innerHTML=av.adverts.header;ax.appendChild(aF);ar.appendChild(ax)}if(I==null||I.length==0){ar.style.display="inline-block";ar.style.visibility="visible";ar.style.position="relative";ar.style.overflow="visible"}var aB=!((av.adverts.copywidth==undefined||(av.adverts.copywidth!=null&&av.adverts.copywidth==42))&&(av.adverts.copywidth==undefined||(av.adverts.copyheight!=null&&av.adverts.copyheight==42)));var aC=[av.adverts.results];for(aw=0;aw<av.adverts.results;aw++){if(av.adverts.advert[aw].mediapresentation!=null){if(av.adverts.advert[aw].mediapresentation==10){}else{if(av.adverts.advert[aw].mediapresentation==20){}else{if(av.adverts.advert[aw].mediapresentation==30){}else{if(av.adverts.advert[aw].mediapresentation==40){}}}}}else{ar.n=aw+1;e(ar,av.adverts.advert[aw],av.adverts.copywidth,av.adverts.copyheight)}}if(aB){ar.style.width=av.adverts.copywidth+"px";ar.style.height=av.adverts.copyheight+"px"}if(P==null&&ay>0&&av.adverts.m3adstitle!=null&&av.adverts.m3adstitle.length>0){if(((av.adverts.advert[0].thirdpartytag!=null)&&(av.adverts.advert[0].thirdpartytag.length>0))||((av.adverts.advert[0].thirdpartyurl!=null)&&(av.adverts.advert[0].thirdpartyurl.length>0))){var aA=document.createElement("div");aA.style.position="relative";aA.style.right="0";aA.style.bottom="0";aA.innerHTML+='<div style="clear:both;"></div><div style="position:absolute; font-weight:bold; opacity:0.6; z-index=9999; bottom:0px; right:0px; background-color:black; color:white; padding-bottom:0.2em; padding-left:0.5em; padding-right:0.5em; font-size:8px;"><a style="color:white!important; text-decoration:none!important;" target="_blank" rel="nofollow" href="'+av.adverts.m3adsurl+'">'+av.adverts.m3adstitle+"</a></div>";setTimeout(function(){ar.appendChild(aA)},0)}else{var aD=[];aD.push('<div style="position:relative;">');aD.push(ar.innerHTML);aD.push('<div style="clear:both;"></div><div style="position:absolute; font-weight:bold; opacity:0.6; z-index=9999; bottom:2px; right:0px; background-color:black; color:white; padding-bottom:0.2em; padding-left:0.5em; padding-right:0.5em; font-size:8px;"><a style="color:white!important; text-decoration:none!important;" target="_blank" rel="nofollow" href="'+av.adverts.m3adsurl+'">'+av.adverts.m3adstitle+"</a></div>");aD.push("</div>");ar.innerHTML=aD.join("")}}if((ay>0)&&(av.adverts.obapage&&av.adverts.obapage.length>0)&&(av.adverts.obaimage&&av.adverts.obaimage.length>0)){var aE=av.adverts.obaplacement?av.adverts.obaplacement:"top";var at=[];at.push('<div style="position:relative;">');at.push(ar.innerHTML);at.push('<div style="clear:both;"></div><div style="padding:0px; border:none; margin:0px; position:absolute; z-index=9999; '+aE+':0px; right:0px"><a target="_blank" rel="nofollow" style="padding:0px; border:none; margin:0px" href="'+av.adverts.obapage+'"><img style="border:none;width:19px;height:15px" src="'+av.adverts.obaimage+'" class="mirago-adchoices"/></a></div>');at.push("</div>");ar.innerHTML=at.join("");if(av.adverts.obaimage.match("oba.png")&&av.adverts.advert[0].mediatype!="Video"&&av.adverts.advert[0].mediatype!="Flash"){var az=document.createElement("script");az.type="text/javascript";az.async=true;az.src=ad+"/resources/scripts/expander.min.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(az)}}i.parentNode.insertBefore(ar,i)})}var ak=document.createElement("div");var u=y.parentNode;if(!f(u)||!k(u)){setTimeout(function O(){if(f(u)&&k(u)){h(ak,y)}else{setTimeout(O,100)}},100)}else{h(ak,y)}}catch(an){var ae=document.createElement("img");ae.src="//feed.mirago.com/jsadsexception.ashx?msg="+an;ae.style.width=1;ae.style.height=1;ae.height=1;ae.width=1;setTimeout(function(){document.getElementsByTagName("body")[0].appendChild(ae)},0)}})();